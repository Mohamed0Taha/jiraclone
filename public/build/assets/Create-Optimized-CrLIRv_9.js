const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateStepBasics-BZ0v5Qgr.js","assets/index-BgEJ3fxA.js","assets/ProjectReportDialog-DJSS4N_t.js","assets/Title-CM3NkCxE.js","assets/createSvgIcon-BJOZcqxU.js","assets/DefaultPropsProvider-Bua-nAaA.js","assets/createTheme-C_kE-Qd2.js","assets/Key-B9enTFzV.js","assets/Stack-8UQV77y9.js","assets/useThemeProps-BWPYVe8w.js","assets/Typography-D7k_4FBJ.js","assets/Box-DwDErR6p.js","assets/TextField-BZLKsJ9m.js","assets/useSlot-CiX-lWvG.js","assets/FormControl-9Ne_wXge.js","assets/isMuiElement-BEUJm6md.js","assets/List-D9XOj4nK.js","assets/ownerWindow-XbzhRCTS.js","assets/getReactElementRef-F5A8c8Er.js","assets/index-CaqUbZRR.js","assets/debounce-Be36O1Ab.js","assets/index-Cvm9KgRT.js","assets/useSlotProps-5DvMlV7h.js","assets/Grow---KOMtVK.js","assets/Modal-DIrGbC0Y.js","assets/Portal-DfkSyL9i.js","assets/Fade-DhaX7TN9.js","assets/Paper-PFfIOqkm.js","assets/useControlled-LNSG5UB_.js","assets/InputAdornment-BMgQdgnP.js","assets/CreateStepScope-gKB_KDES.js","assets/MenuItem-CFfd6fkg.js","assets/ButtonBase-Cf3WRSsW.js","assets/isFocusVisible-B8k4qzLc.js","assets/listItemTextClasses-DfQra0jB.js","assets/dividerClasses-C37mlFxW.js","assets/Slider-BV__jMPm.js","assets/CreateStepObjectives-BfCyGmAt.js","assets/WarningAmber-CV96wkjt.js","assets/CreateStepReview-CExcrzZL.js","assets/Alert-AqF1eoq9.js","assets/IconButton-MFFsjt5V.js","assets/CircularProgress-RchlJGKc.js","assets/Divider-Mh942rqT.js","assets/Chip-21CA6oxg.js"])))=>i.map(i=>d[i]);
import{u as z,H as D,_ as u}from"./app-K9NsoLMf.js";import{j as e}from"./index-BgEJ3fxA.js";import{r}from"./ProjectReportDialog-DJSS4N_t.js";import{A as F}from"./AuthenticatedLayout-BoAa4njZ.js";import{S as O}from"./Save-D1sKxa3V.js";import{A as H}from"./ArrowBack-BADPg0TL.js";import{g as M,v as V}from"./CreateFormValidation-CA3y08xH.js";import{u as $,T as x}from"./Typography-D7k_4FBJ.js";import{B as l}from"./Box-DwDErR6p.js";import{C as y}from"./Container-CINNDH99.js";import{B as K,S as N,a as q,b as G}from"./Stepper-DLGaimn0.js";import{L as _}from"./Link-Cm4ksNIx.js";import{F as J}from"./Fade-DhaX7TN9.js";import{P as Q}from"./Paper-PFfIOqkm.js";import{L as U}from"./LinearProgress-DS1Mq4qD.js";import{S as C}from"./Stack-8UQV77y9.js";import{B as f}from"./Button-awGqnw0r.js";import{C as X}from"./CircularProgress-RchlJGKc.js";import{a}from"./createTheme-C_kE-Qd2.js";import"./transition-BoHI2LEi.js";import"./CookieConsent-DEMz9Qt1.js";import"./Slide-BpTZt6Xy.js";import"./getReactElementRef-F5A8c8Er.js";import"./index-CaqUbZRR.js";import"./debounce-Be36O1Ab.js";import"./ownerWindow-XbzhRCTS.js";import"./Card-f4gJA82V.js";import"./DefaultPropsProvider-Bua-nAaA.js";import"./createSvgIcon-BJOZcqxU.js";import"./IconButton-MFFsjt5V.js";import"./ButtonBase-Cf3WRSsW.js";import"./isFocusVisible-B8k4qzLc.js";import"./Close-CE36E4Lb.js";import"./useThemeProps-BWPYVe8w.js";import"./useSlotProps-5DvMlV7h.js";import"./useSlot-CiX-lWvG.js";import"./index-Cvm9KgRT.js";const Y=r.lazy(()=>u(()=>import("./CreateStepBasics-BZ0v5Qgr.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]))),Z=r.lazy(()=>u(()=>import("./CreateStepScope-gKB_KDES.js"),__vite__mapDeps([30,1,2,4,5,6,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,32,33,34,35,36]))),ee=r.lazy(()=>u(()=>import("./CreateStepObjectives-BfCyGmAt.js"),__vite__mapDeps([37,1,2,4,5,6,38,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]))),te=r.lazy(()=>u(()=>import("./CreateStepReview-CExcrzZL.js"),__vite__mapDeps([39,1,2,8,5,6,9,10,11,40,13,4,41,32,33,42,27,43,35,44]))),h=()=>e.jsx(l,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(X,{size:24})});function Oe({auth:w,projectTypes:E=[],domains:L=[]}){const i=$(),n=["Basics","Scope & Team","Objectives","Review"],[s,g]=r.useState(0),{data:o,setData:p,post:v,processing:d,errors:P,reset:k}=z({name:"",key:"",description:"",start_date:"",end_date:"",meta:{project_type:"",domain:"",area:"",location:"",team_size:3,budget:"",primary_stakeholder:"",objectives:"",constraints:""}}),[T,R]=r.useState({}),S=r.useRef(null);r.useEffect(()=>{S.current?.focus()},[]),r.useEffect(()=>{if(!o.name||o.meta.__keyTouched)return;const t=M(o.name);p("key",t)},[o.name]);const B=r.useCallback((t,c)=>p("meta",{...o.meta,[t]:c}),[o.meta,p]),m=r.useCallback(t=>V(t,o,R),[o]),j=r.useCallback(()=>{m(s)&&g(t=>Math.min(n.length-1,t+1))},[s,m,n.length]),A=r.useCallback(()=>g(t=>Math.max(0,t-1)),[]),b=r.useCallback(t=>{t.preventDefault(),m(s)&&v("/projects",{onSuccess:()=>{k()}})},[s,m,v,k]);r.useEffect(()=>{const t=c=>{(c.metaKey||c.ctrlKey)&&c.key.toLowerCase()==="s"&&(c.preventDefault(),d||(s<n.length-1?j():b(c)))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[d,s,j,b,n.length]);const I=`linear-gradient(115deg, ${a(i.palette.primary.main,.85)} 0%, ${a(i.palette.secondary.main,.8)} 60%, ${a(i.palette.primary.dark,.85)} 100%)`,W=()=>{const t={data:o,setData:p,setMeta:B,errors:P,localErrors:T,projectTypes:E,domains:L};switch(s){case 0:return e.jsx(r.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Y,{...t,nameRef:S})});case 1:return e.jsx(r.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(Z,{...t})});case 2:return e.jsx(r.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(ee,{...t})});case 3:return e.jsx(r.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(te,{data:o})});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsx(D,{title:"Create Project"}),e.jsxs(F,{user:w.user,children:[e.jsxs(l,{sx:{background:I,color:"#fff",pt:{xs:7,md:9},pb:{xs:8,md:10},position:"relative",overflow:"hidden"},children:[e.jsx(l,{"aria-hidden":!0,sx:{position:"absolute",top:-120,left:-80,width:440,height:440,borderRadius:"50%",background:a("#fff",.12),filter:"blur(90px)"}}),e.jsx(l,{"aria-hidden":!0,sx:{position:"absolute",bottom:-140,right:-120,width:500,height:500,borderRadius:"50%",background:a("#fff",.14),filter:"blur(100px)"}}),e.jsxs(y,{maxWidth:"md",sx:{position:"relative"},children:[e.jsxs(K,{"aria-label":"breadcrumb",sx:{"& a, & .MuiTypography-root":{color:a("#fff",.9),fontSize:14}},children:[e.jsx(_,{underline:"hover",color:"inherit",href:"/dashboard",sx:{fontWeight:500},children:"Dashboard"}),e.jsx(_,{underline:"hover",color:"inherit",href:"/projects",sx:{fontWeight:500},children:"Projects"}),e.jsx(x,{color:"inherit",sx:{fontWeight:600},children:"Create"})]}),e.jsx(x,{variant:"h3",fontWeight:700,sx:{mt:3,letterSpacing:"-0.5px",textShadow:"0 4px 22px rgba(0,0,0,0.25)"},children:"Create a New Project"}),e.jsx(x,{variant:"h6",sx:{mt:2,maxWidth:720,color:a("#fff",.92)},children:"Step through basics, scope, and goals so AI can generate hyper-relevant suggestions later."})]})]}),e.jsx(l,{sx:{bgcolor:"background.default",py:{xs:5,md:8},minHeight:"60vh"},children:e.jsx(y,{maxWidth:"md",children:e.jsx(J,{in:!0,timeout:500,children:e.jsxs(Q,{elevation:0,sx:{p:{xs:3,sm:5},borderRadius:4,position:"relative",border:`1px solid ${a(i.palette.divider,.7)}`,background:i.palette.mode==="light"?"linear-gradient(145deg,#ffffff,#f8f9fb)":a(i.palette.background.paper,.7),backdropFilter:"blur(6px)",boxShadow:i.palette.mode==="light"?"0 4px 18px -4px rgba(0,0,0,.12)":"0 4px 18px -6px rgba(0,0,0,.7)",overflow:"hidden"},children:[d&&e.jsx(U,{sx:{position:"absolute",left:0,top:0,width:"100%",borderTopLeftRadius:16,borderTopRightRadius:16}}),e.jsxs(C,{direction:"row",alignItems:"center",spacing:1,mb:2,children:[e.jsx(f,{variant:"outlined",size:"small",startIcon:e.jsx(H,{}),href:"/projects",sx:{textTransform:"none"},children:"Back to Projects"}),e.jsx(x,{variant:"h5",fontWeight:700,children:"Project Setup"})]}),e.jsx(N,{activeStep:s,alternativeLabel:!0,sx:{mb:4},children:n.map(t=>e.jsx(q,{children:e.jsx(G,{children:t})},t))}),e.jsxs("form",{onSubmit:b,children:[e.jsx(l,{sx:{mb:4,minHeight:400},children:W()}),e.jsxs(C,{direction:"row",spacing:2,justifyContent:"space-between",children:[e.jsx(f,{disabled:s===0,onClick:A,variant:"outlined",sx:{textTransform:"none"},children:"Back"}),s===n.length-1?e.jsx(f,{type:"submit",variant:"contained",disabled:d,startIcon:e.jsx(O,{}),sx:{textTransform:"none",fontWeight:600},children:d?"Creating...":"Create Project"}):e.jsxs(f,{onClick:j,variant:"contained",sx:{textTransform:"none",fontWeight:600},children:["Next: ",n[s+1]]})]})]})]})})})})]})]})}export{Oe as default};
