import{j as e}from"./index-BgEJ3fxA.js";import{r as z}from"./ProjectReportDialog-DJSS4N_t.js";import{r as f}from"./app-K9NsoLMf.js";import{c as g}from"./createSvgIcon-BJOZcqxU.js";import{R as E,L as I}from"./RateReviewRounded-_pe94eyW.js";import{R as D}from"./RocketLaunchRounded-BHoF4EK3.js";import{C as T}from"./CheckCircleRounded-CybLc3-8.js";import{u as W,T as l}from"./Typography-D7k_4FBJ.js";import{A as P,a as $,b as M}from"./AccordionSummary-BfCCgskS.js";import{B as L}from"./Button-awGqnw0r.js";import{S as F}from"./Stack-8UQV77y9.js";import{B as s}from"./Box-DwDErR6p.js";import{T as y}from"./Tooltip-B2fzUN7_.js";import{I as j}from"./IconButton-MFFsjt5V.js";import{L as H}from"./LinearProgress-DS1Mq4qD.js";import{C as x}from"./Chip-21CA6oxg.js";import{a as r}from"./createTheme-C_kE-Qd2.js";const O=g(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"})),_=g(e.jsx("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1q-.15.15-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),G=g(e.jsx("path",{d:"M15.88 9.29 12 13.17 8.12 9.29a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.39-1.42 0"})),k={todo:{title:"To Do",accent:"#FFA432",gradient:"linear-gradient(135deg,#FFF8EC 0%,#FFE2BC 100%)",iconBg:"linear-gradient(145deg,#FFD088,#FFAE45)",icon:e.jsx(I,{sx:{fontSize:15}})},inprogress:{title:"In Progress",accent:"#2C8DFF",gradient:"linear-gradient(135deg,#F1F8FF 0%,#CFE5FF 100%)",iconBg:"linear-gradient(145deg,#77B6FF,#3B8DFF)",icon:e.jsx(D,{sx:{fontSize:15}})},review:{title:"Review",accent:"#9C4DFF",gradient:"linear-gradient(135deg,#F9F3FF 0%,#E3D2FF 100%)",iconBg:"linear-gradient(145deg,#C39BFF,#9C4DFF)",icon:e.jsx(E,{sx:{fontSize:15}})},done:{title:"Done",accent:"#22B36B",gradient:"linear-gradient(135deg,#F2FFF5 0%,#CDEFD8 100%)",iconBg:"linear-gradient(145deg,#5FD598,#22B36B)",icon:e.jsx(T,{sx:{fontSize:15}})}},c=["todo","inprogress","review","done"];function Y({project:i,rowSx:S={},onDelete:v,endActions:m}){const n=W(),u=z.useMemo(()=>{const t=c.reduce((o,a)=>({...o,[a]:[]}),{});if(i?.tasks&&typeof i.tasks=="object"&&!Array.isArray(i.tasks)){const o={...t};return c.forEach(a=>{const b=i.tasks[a];o[a]=Array.isArray(b)?b:[]}),o}return Array.isArray(i?.tasks)?i.tasks.reduce((o,a)=>(a&&a.status&&o[a.status]&&o[a.status].push(a),o),t):t},[i]),p=c.reduce((t,o)=>(t[o]=u[o].length,t),{}),d=c.reduce((t,o)=>t+p[o],0),w=p.done,h=d===0?0:Math.round(w/d*100),B=t=>{t.stopPropagation(),f.visit(`/projects/${i.id}/tasks`)},R=t=>{t.stopPropagation(),f.visit(`/projects/${i.id}/edit`)},C=({status:t})=>{const o=k[t],a=p[t];return e.jsxs(s,{sx:{position:"relative",px:1.2,py:.4,borderRadius:2,display:"flex",alignItems:"center",gap:.65,lineHeight:1,background:r(o.accent,.12),border:`1px solid ${r(o.accent,.4)}`,boxShadow:`0 1px 2px ${r(o.accent,.25)} inset`},children:[e.jsx(s,{sx:{width:22,height:22,borderRadius:"50%",display:"grid",placeItems:"center",background:o.iconBg,color:"#fff",boxShadow:`0 2px 4px -2px ${r(o.accent,.5)}`,fontSize:12},children:o.icon}),e.jsxs(l,{variant:"caption",sx:{fontWeight:600,letterSpacing:.3,textTransform:"uppercase",fontSize:10.5,color:r(n.palette.text.primary,.8),display:"flex",alignItems:"center",gap:.5,whiteSpace:"nowrap"},children:[o.title,e.jsx(s,{component:"span",sx:{px:.65,py:.1,ml:.2,fontSize:11,lineHeight:1.15,fontWeight:600,borderRadius:1.5,background:r(o.accent,.18),color:r(n.palette.text.primary,.85)},children:a})]})]},t)},A=({t,status:o})=>{const a=k[o];return e.jsx(x,{label:t.title,size:"small",variant:"outlined",title:t.title,sx:{mr:.6,mb:.6,borderRadius:2.5,fontWeight:500,maxWidth:190,overflow:"hidden",textOverflow:"ellipsis",borderColor:r(a.accent,.55),color:r(n.palette.text.primary,.8),background:r(a.accent,.07),"&:hover":{background:r(a.accent,.15)}}},t.id)};return e.jsxs(P,{disableGutters:!0,sx:{borderRadius:4,overflow:"hidden",position:"relative",border:`1px solid ${r(n.palette.primary.main,.15)}`,background:"linear-gradient(135deg,rgba(255,255,255,0.85),rgba(255,255,255,0.55))",backdropFilter:"blur(10px)",boxShadow:"0 6px 18px -8px rgba(15,35,60,0.25), 0 1px 0 0 rgba(255,255,255,0.65) inset",transition:"background .35s, box-shadow .35s, transform .35s","&:before":{content:'""',position:"absolute",inset:0,pointerEvents:"none",background:"radial-gradient(circle at 85% 15%, rgba(255,255,255,0.5), transparent 60%)",opacity:.8},"&:hover":{transform:"translateY(-2px)",boxShadow:"0 10px 28px -10px rgba(20,40,70,0.35), 0 1px 0 0 rgba(255,255,255,0.75) inset"},...S},children:[e.jsxs($,{expandIcon:e.jsx(G,{sx:{color:r("#102040",.6)}}),sx:{minHeight:60,px:2,"& .MuiAccordionSummary-content":{alignItems:"center",my:0,gap:1}},children:[e.jsx(L,{variant:"text",onClick:B,sx:{px:.75,minWidth:0,textTransform:"none",fontWeight:800,fontSize:16,color:"text.primary",borderRadius:1.5,maxWidth:{xs:180,sm:260,md:360},"&:hover":{backgroundColor:r(n.palette.primary.main,.08),color:"text.primary"},"&:focus-visible":{outline:`2px solid ${r(n.palette.primary.main,.35)}`,outlineOffset:2}},children:e.jsx(l,{component:"span",noWrap:!0,sx:{fontSize:"inherit",fontWeight:"inherit"},children:i.name})}),e.jsx(F,{direction:"row",spacing:1,sx:{ml:"auto",mr:1.5,flexWrap:"wrap",rowGap:.6,maxWidth:{xs:"40%",sm:"60%",md:"70%"}},children:c.map(t=>e.jsx(C,{status:t},t))}),m?e.jsx(s,{onClick:t=>t.stopPropagation(),sx:{display:"flex",alignItems:"center",gap:.5},children:m}):e.jsxs(s,{onClick:t=>t.stopPropagation(),sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(y,{title:"Edit project",arrow:!0,children:e.jsx(j,{size:"small",onClick:R,"aria-label":`Edit project ${i.name}`,sx:{color:r("#243A63",.7),"&:hover":{color:r("#243A63",.95)}},children:e.jsx(_,{fontSize:"small"})})}),e.jsx(y,{title:"Delete project",arrow:!0,children:e.jsx(j,{size:"small",onClick:t=>{t.stopPropagation(),v?.(t,i)},"aria-label":`Delete project ${i.name}`,sx:{color:r("#243A63",.7),"&:hover":{color:r("#243A63",.95)}},children:e.jsx(O,{fontSize:"small"})})})]})]}),e.jsxs(M,{sx:{bgcolor:"transparent",px:2,pt:1.25,pb:2.2,borderTop:`1px solid ${r("#2C3E55",.1)}`,position:"relative","&:before":{content:'""',position:"absolute",inset:0,pointerEvents:"none",background:"linear-gradient(180deg,rgba(255,255,255,0.6),rgba(255,255,255,0.2))",opacity:.5}},children:[i.description&&e.jsx(l,{variant:"body2",sx:{color:r(n.palette.text.primary,.75),mb:1.4,whiteSpace:"pre-line",fontWeight:400},children:i.description}),e.jsxs(F,{direction:"row",alignItems:"center",spacing:1.5,sx:{mb:1},children:[e.jsx(l,{variant:"caption",fontWeight:700,sx:{letterSpacing:.6,textTransform:"uppercase",fontSize:11,color:r(n.palette.text.primary,.65)},children:"Progress"}),e.jsx(s,{sx:{flexGrow:1},children:e.jsx(H,{variant:"determinate",value:h,sx:{height:8,borderRadius:10,background:r("#1F3A60",.12),"& .MuiLinearProgress-bar":{borderRadius:10,background:"linear-gradient(90deg,#5FD598 0%,#22B36B 60%,#189455)",boxShadow:"0 0 6px -1px rgba(34,179,107,.6)"}}})}),e.jsx(x,{label:`${h}%`,size:"small",sx:{fontWeight:600,height:24,background:r("#22B36B",.12),border:`1px solid ${r("#22B36B",.4)}`,color:r(n.palette.text.primary,.8)}})]}),e.jsxs(l,{variant:"caption",fontWeight:700,sx:{letterSpacing:.6,textTransform:"uppercase",fontSize:11,color:r(n.palette.text.primary,.55)},children:["Tasks (",d,")"]}),e.jsxs(s,{sx:{mt:.8,display:"flex",flexWrap:"wrap",maxHeight:170,overflowY:"auto",pr:.5,"&::-webkit-scrollbar":{width:7},"&::-webkit-scrollbar-thumb":{borderRadius:6,backgroundColor:r("#1F3A60",.35)}},children:[d===0&&e.jsx(x,{label:"No tasks yet",size:"small",variant:"outlined",sx:{fontStyle:"italic",borderRadius:2,borderColor:r("#1F3A60",.35)}}),c.map(t=>u[t].map(o=>e.jsx(A,{t:o,status:t},o.id)))]})]})]})}const ce=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{_ as E,Y as P,ce as a};
