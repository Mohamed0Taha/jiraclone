import{j as e}from"./index-BgEJ3fxA.js";import{r as n}from"./ProjectReportDialog-DJSS4N_t.js";import{a as Se,H as Ce,r as ne}from"./app-K9NsoLMf.js";import{A as Te}from"./AuthenticatedLayout-BoAa4njZ.js";import{c as f}from"./createSvgIcon-BJOZcqxU.js";import{R as Re}from"./RestartAltRounded-D4gs6ejc.js";import{u as Ae}from"./useSubscription-CqvGu-da.js";import{R as Me}from"./RocketLaunchRounded-BHoF4EK3.js";import{C as De}from"./CheckCircleRounded-CybLc3-8.js";import{C as $e,S as ze}from"./SmartToyRounded-abUb5QI1.js";import{g as Le}from"./csrf-CrwjxjsF.js";import{u as Fe,T as d}from"./Typography-D7k_4FBJ.js";import{B as a}from"./Box-DwDErR6p.js";import{C as Pe}from"./Container-CINNDH99.js";import{P as se}from"./Paper-PFfIOqkm.js";import{S as h}from"./Stack-8UQV77y9.js";import{C as L}from"./Chip-21CA6oxg.js";import{D as oe}from"./Divider-Mh942rqT.js";import{T as ce}from"./TextField-BZLKsJ9m.js";import{I as le}from"./InputAdornment-BMgQdgnP.js";import{T as q}from"./Tooltip-B2fzUN7_.js";import{I as U}from"./IconButton-MFFsjt5V.js";import{B as I}from"./Button-awGqnw0r.js";import{C as pe}from"./CircularProgress-RchlJGKc.js";import{D as We,a as Ee}from"./DialogContent-DSMMXfBC.js";import{D as Be}from"./DialogTitle-CslrqFxR.js";import{D as Ye}from"./DialogActions-tu8p45QK.js";import{S as Ne}from"./Slide-BpTZt6Xy.js";import{a as r}from"./createTheme-C_kE-Qd2.js";import"./transition-BoHI2LEi.js";import"./CookieConsent-DEMz9Qt1.js";import"./Card-f4gJA82V.js";import"./DefaultPropsProvider-Bua-nAaA.js";import"./Link-Cm4ksNIx.js";import"./isFocusVisible-B8k4qzLc.js";import"./Close-CE36E4Lb.js";import"./useThemeProps-BWPYVe8w.js";import"./useSlot-CiX-lWvG.js";import"./ButtonBase-Cf3WRSsW.js";import"./dividerClasses-C37mlFxW.js";import"./FormControl-9Ne_wXge.js";import"./isMuiElement-BEUJm6md.js";import"./List-D9XOj4nK.js";import"./ownerWindow-XbzhRCTS.js";import"./getReactElementRef-F5A8c8Er.js";import"./index-CaqUbZRR.js";import"./debounce-Be36O1Ab.js";import"./index-Cvm9KgRT.js";import"./useSlotProps-5DvMlV7h.js";import"./Grow---KOMtVK.js";import"./Modal-DIrGbC0Y.js";import"./Portal-DfkSyL9i.js";import"./Fade-DhaX7TN9.js";import"./useControlled-LNSG5UB_.js";const Ge=f(e.jsx("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1"})),R=f(e.jsx("path",{d:"m19.46 8 .79-1.75L22 5.46c.39-.18.39-.73 0-.91l-1.75-.79L19.46 2c-.18-.39-.73-.39-.91 0l-.79 1.75-1.76.79c-.39.18-.39.73 0 .91l1.75.79.79 1.76c.18.39.74.39.92 0M11.5 9.5 9.91 6c-.35-.78-1.47-.78-1.82 0L6.5 9.5 3 11.09c-.78.36-.78 1.47 0 1.82l3.5 1.59L8.09 18c.36.78 1.47.78 1.82 0l1.59-3.5 3.5-1.59c.78-.36.78-1.47 0-1.82zm7.04 6.5-.79 1.75-1.75.79c-.39.18-.39.73 0 .91l1.75.79.79 1.76c.18.39.73.39.91 0l.79-1.75 1.76-.79c.39-.18.39-.73 0-.91l-1.75-.79-.79-1.76c-.18-.39-.74-.39-.92 0"})),He=f(e.jsx("path",{d:"M12 6v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V4c-4.42 0-8 3.58-8 8 0 1.04.2 2.04.57 2.95.27.67 1.13.85 1.64.34.27-.27.38-.68.23-1.04C6.15 13.56 6 12.79 6 12c0-3.31 2.69-6 6-6m5.79 2.71c-.27.27-.38.69-.23 1.04.28.7.44 1.46.44 2.25 0 3.31-2.69 6-6 6v-1.79c0-.45-.54-.67-.85-.35l-2.79 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.31.31.85.09.85-.35V20c4.42 0 8-3.58 8-8 0-1.04-.2-2.04-.57-2.95-.27-.67-1.13-.85-1.64-.34"})),de=f(e.jsx("path",{d:"M14.69 2.21 4.33 11.49c-.64.58-.28 1.65.58 1.73L13 14l-4.85 6.76c-.22.31-.19.74.08 1.01.3.3.77.31 1.08.02l10.36-9.28c.64-.58.28-1.65-.58-1.73L11 10l4.85-6.76c.22-.31.19-.74-.08-1.01-.3-.3-.77-.31-1.08-.02"})),Oe=f(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92c-.5.51-.86.97-1.04 1.69-.08.32-.13.68-.13 1.14h-2v-.5c0-.46.08-.9.22-1.31.2-.58.53-1.1.95-1.52l1.24-1.26c.46-.44.68-1.1.55-1.8-.13-.72-.69-1.33-1.39-1.53-1.11-.31-2.14.32-2.47 1.27-.12.37-.43.65-.82.65h-.3C8.4 9 8 8.44 8.16 7.88c.43-1.47 1.68-2.59 3.23-2.83 1.52-.24 2.97.55 3.87 1.8 1.18 1.63.83 3.38-.19 4.4"})),qe=f([e.jsx("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),e.jsx("path",{d:"M13.21 3c-3.84-.11-7 2.87-7.19 6.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v2c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-3.68c2.44-1.16 4.1-3.68 4-6.58-.14-3.62-3.18-6.63-6.79-6.74M16 10c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")]),Ue=f(e.jsx("path",{d:"M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1"})),_e=f(e.jsx("path",{d:"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23c-.25-.44-.79-.62-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41c-.02.22-.03.44-.03.67s.01.45.03.68l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68m-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"})),F=f(e.jsx("path",{d:"M7 20h4c0 1.1-.9 2-2 2s-2-.9-2-2m-2-2c0 .55.45 1 1 1h6c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1m11.5-8.5c0 3.82-2.66 5.86-3.77 6.5H5.27c-1.11-.64-3.77-2.68-3.77-6.5C1.5 5.36 4.86 2 9 2s7.5 3.36 7.5 7.5m4.87-2.13L20 8l1.37.63L22 10l.63-1.37L24 8l-1.37-.63L22 6zM19 6l.94-2.06L22 3l-2.06-.94L19 0l-.94 2.06L16 3l2.06.94z"}));async function Xe(m,s=8){const y=Math.max(3,Math.min(8,s||8)),t=route("tasks.ai.suggestions",m)+`?max=${encodeURIComponent(y)}`,o=await fetch(t,{headers:{Accept:"application/json"},credentials:"same-origin"});if(!o.ok)throw new Error(`HTTP ${o.status}`);const S=await o.json();return Array.isArray(S?.suggestions)?S.suggestions.filter(l=>typeof l=="string"&&l.trim()!==""):[]}function me(m,s){return m.toLowerCase().includes(s.toLowerCase())}const Ke=n.forwardRef(function(s,y){return e.jsx(Ne,{direction:"up",ref:y,...s})});function Qt({auth:m,project:s,prefill:y={}}){const t=Fe(),{processing:o,errors:S={}}=Se().props;Ae();const[l,A]=n.useState(Number(y.count)||5),[P,W]=n.useState(y.prompt||""),[E,B]=n.useState([]),[X,K]=n.useState(!1),[V,Q]=n.useState(""),[x,J]=n.useState(!1),[Y,Z]=n.useState(!1),[u,M]=n.useState(0),[ee,D]=n.useState(-1),[xe,j]=n.useState(!1),[p,$]=n.useState(0),N=n.useRef(null),C=n.useRef(null),T=n.useRef(null),k=n.useRef(!1),z=700,v=n.useMemo(()=>[{text:"ðŸ§  Analyzing project context and requirementsâ€¦",pct:10,icon:e.jsx(qe,{fontSize:"small"})},{text:"ðŸŽ¯ Mapping your goals to smart task themesâ€¦",pct:22,icon:e.jsx(R,{fontSize:"small"})},{text:"âš™ï¸ Spinning up mini-agents & parsing dependenciesâ€¦",pct:35,icon:e.jsx(_e,{fontSize:"small"})},{text:"ðŸ” Cross-checking best practices & standardsâ€¦",pct:50,icon:e.jsx(F,{fontSize:"small"})},{text:"ðŸ“‹ Drafting detailed acceptance criteriaâ€¦",pct:65,icon:e.jsx(Ve,{theme:t})},{text:"ðŸ”— Weaving task relationships & critical pathsâ€¦",pct:78,icon:e.jsx(de,{fontSize:"small"})},{text:"âœ¨ Polishing copy & sequencing workstreamsâ€¦",pct:92,icon:e.jsx(R,{fontSize:"small"})},{text:"ðŸš€ Finalizing your tailored task setâ€¦",pct:100,icon:e.jsx(Me,{fontSize:"small"})}],[t]),g=v.length-1,ue=g-1,G=async(i=l)=>{try{K(!0),Q("");const b=(await Xe(s.id,i)).filter(Ie=>!me(P,Ie));B(b)}catch(c){console.error("AI suggestions error:",c),Q("Could not load AI suggestions. You can still type your own instructions."),B(["Comprehensive architecture documentation & technical specifications","Advanced performance monitoring & analytics infrastructure","Security audit & penetration testing framework","Automated CI/CD pipeline with deployment strategies","User acceptance testing & quality assurance protocols","Scalability assessment & optimization recommendations","API documentation & developer onboarding resources","Compliance review & regulatory requirements analysis","Cross-platform integration testing & validation","Advanced error handling & monitoring systems"])}finally{K(!1)}};n.useEffect(()=>{if(s?.id)return clearTimeout(N.current),N.current=setTimeout(()=>{G(l)},350),()=>clearTimeout(N.current)},[s?.id,l]);const he=i=>{W(c=>c?me(c,i)?c:`${c.trim()}
- ${i}`:i),B(c=>c.filter(b=>b!==i))},te=()=>{k.current=!0,Z(!0),J(!0),D(-1),j(!1),M(0),$(Math.min(v[0].pct,99)),clearInterval(C.current),C.current=setInterval(()=>{if(!k.current){clearInterval(C.current);return}M(i=>{const c=Math.min(i+1,ue);return c!==i?(D(i),$(Math.min(v[c].pct,99)),j(!0),clearTimeout(T.current),T.current=setTimeout(()=>j(!1),z)):clearInterval(C.current),c})},1300)},re=()=>{D(u),j(!0),M(g),$(100),clearTimeout(T.current),T.current=setTimeout(()=>j(!1),z)},w=()=>{k.current=!1,clearInterval(C.current),clearTimeout(T.current),J(!1),Z(!1),M(0),D(-1),j(!1),$(0)};n.useEffect(()=>{if(o&&!k.current&&te(),!o&&k.current){re();const i=setTimeout(()=>{w()},1100);return()=>clearTimeout(i)}},[o]);const ge=()=>A(i=>Math.min(8,Math.max(1,i+1))),fe=()=>A(i=>Math.min(8,Math.max(1,i-1))),be=()=>{A(5),W(""),G(5)},ye=()=>{k.current||te();const i=Le()||"";ne.post(route("tasks.ai.preview",s.id),{count:l,prompt:P},{preserveScroll:!0,headers:{"X-XSRF-TOKEN":i,Accept:"text/html, application/xhtml+xml"},onFinish:()=>{re(),setTimeout(()=>w(),1100)},onError:()=>{w()}})},je=()=>{ne.visit(route("tasks.index",s.id),{preserveScroll:!0})},ke=n.useMemo(()=>Math.max(0,Math.min(100,Math.round(l/8*100))),[l]),ie=n.useMemo(()=>{const i=t.palette;return[{bg:r(i.info.main,.12),brd:r(i.info.main,.35)},{bg:r(i.success.main,.12),brd:r(i.success.main,.35)},{bg:r(i.warning.main,.12),brd:r(i.warning.main,.35)},{bg:r(i.secondary.main,.12),brd:r(i.secondary.main,.35)},{bg:r(i.primary.main,.12),brd:r(i.primary.main,.35)},{bg:r(i.error.main,.1),brd:r(i.error.main,.3)}]},[t.palette]),H=n.useMemo(()=>["Our tiny robots are tightening virtual boltsâ€¦","Sifting through best practices like a pro librarianâ€¦","Teaching tasks to line up in perfect orderâ€¦","Sharpening acceptance criteria pencils âœï¸â€¦","Calibrating effort vs. impact metersâ€¦","Powering up dependency graph thrustersâ€¦","Dusting off your roadmap with extra sparkleâ€¦"],[]),[ve,we]=n.useState(0);n.useEffect(()=>{if(!Y)return;const i=setInterval(()=>{we(c=>(c+1)%H.length)},1600);return()=>clearInterval(i)},[Y,H.length]);const O=v[u]||v[0],ae=ee>=0?v[ee]:null;return e.jsxs(e.Fragment,{children:[e.jsx(Ce,{title:"AI Task Generator"}),e.jsxs(Te,{user:m?.user,children:[e.jsx(a,{sx:{minHeight:"100vh",background:t.palette.mode==="light"?"linear-gradient(140deg,#F6F9FC 0%,#F1F6FD 55%,#E9F1FB 100%)":"linear-gradient(140deg,#0F1823,#101B27)",display:"flex",py:{xs:3,md:6}},children:e.jsx(Pe,{maxWidth:"md",children:e.jsxs(se,{elevation:0,sx:{p:{xs:2.5,md:3.5},borderRadius:4,background:"linear-gradient(145deg,rgba(255,255,255,0.95),rgba(255,255,255,0.74))",border:`1px solid ${r(t.palette.primary.main,.18)}`,boxShadow:"0 14px 34px -18px rgba(30,50,90,.28), 0 2px 6px rgba(0,0,0,.06)",position:"relative",overflow:"hidden"},children:[e.jsx(a,{"aria-hidden":!0,sx:{position:"absolute",width:300,height:300,top:-130,right:-110,background:"radial-gradient(circle at 60% 40%, rgba(255,255,255,0.7), transparent 70%)"}}),e.jsxs(h,{direction:"row",spacing:1.2,alignItems:"center",mb:1,children:[e.jsx(R,{sx:{color:r(t.palette.primary.main,.9)}}),e.jsx(d,{variant:"h6",fontWeight:900,letterSpacing:-.2,children:"AI Task Generator"}),e.jsx(L,{size:"small",label:`${l} Task${l===1?"":"s"}`,sx:{ml:"auto",fontWeight:800,height:26,borderRadius:999,background:"linear-gradient(135deg,#22c55e22,#22c55e14 60%,#16a34a22)",border:`1px solid ${r("#22c55e",.35)}`}})]}),e.jsxs(d,{variant:"body2",sx:{color:r(t.palette.text.primary,.7),mb:2},children:["Project: ",e.jsx("strong",{children:s?.name})]}),S?.ai&&e.jsx(a,{sx:{mb:2,p:1.5,borderRadius:2,border:`1px solid ${r(t.palette.error.main,.35)}`,backgroundColor:r(t.palette.error.main,.06)},children:e.jsx(d,{color:"error",fontWeight:700,children:S.ai})}),e.jsx(oe,{sx:{mb:2.5}}),e.jsx(d,{variant:"subtitle2",sx:{fontWeight:900,letterSpacing:.3,mb:.5,color:r(t.palette.text.primary,.85)},children:"NUMBER OF TASKS"}),e.jsxs(d,{variant:"caption",sx:{mb:1.5,color:r(t.palette.text.secondary,.8),fontStyle:"italic",display:"flex",alignItems:"center",gap:.5},children:[e.jsx(F,{sx:{fontSize:14}}),"Generate up to 8 tasks at a time to prevent timeout issues"]}),e.jsxs(h,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(ce,{type:"number",size:"small",value:l,onChange:i=>A(()=>Math.min(8,Math.max(1,Number(i.target.value)||1))),disabled:x||o,inputProps:{min:1,max:8},sx:{width:120},InputProps:{startAdornment:e.jsx(le,{position:"start",children:e.jsx(q,{title:"Decrease",children:e.jsx("span",{children:e.jsx(U,{size:"small",onClick:fe,disabled:l<=1||x||o,children:e.jsx(Ue,{fontSize:"small"})})})})}),endAdornment:e.jsx(le,{position:"end",children:e.jsx(q,{title:"Increase",children:e.jsx("span",{children:e.jsx(U,{size:"small",onClick:ge,disabled:l>=8||x||o,children:e.jsx(Ge,{fontSize:"small"})})})})})}}),e.jsxs(a,{"aria-label":"count meter",sx:{flexGrow:1,height:10,mt:1,borderRadius:999,background:r(t.palette.primary.main,.1),overflow:"hidden",position:"relative"},children:[e.jsx(a,{sx:{width:`${ke}%`,height:"100%",background:"linear-gradient(90deg,#34D399,#10B981 55%,#059669)",transition:"width .25s ease"}}),e.jsxs(d,{variant:"caption",sx:{position:"absolute",right:8,top:-18,color:r(t.palette.text.primary,.55),fontWeight:600},children:[l,"/10 requested"]})]})]}),e.jsx(d,{variant:"subtitle2",sx:{fontWeight:900,letterSpacing:.3,mt:3,mb:1,color:r(t.palette.text.primary,.85)},children:"EXTRA INSTRUCTIONS (OPTIONAL)"}),e.jsx(ce,{multiline:!0,minRows:5,fullWidth:!0,placeholder:"e.g. Include tasks for safety checks specific to Khartoum site, local permitting, and budget tracking cadenceâ€¦",value:P,onChange:i=>W(i.target.value),disabled:x||o}),e.jsxs(h,{spacing:.8,mt:1.4,children:[e.jsxs(h,{direction:"row",alignItems:"center",spacing:1,sx:{mb:.3},children:[e.jsx(d,{variant:"caption",sx:{color:r(t.palette.text.primary,.6)},children:"Add context to guide the AI"}),e.jsx(L,{size:"small",label:`${E.length} suggestion${E.length===1?"":"s"}`,sx:{height:22,fontWeight:700,background:r(t.palette.primary.main,.08),border:`1px solid ${r(t.palette.primary.main,.25)}`}}),e.jsx(a,{sx:{flexGrow:1}}),e.jsx(q,{title:"Regenerate suggestions",children:e.jsx("span",{children:e.jsx(I,{size:"small",variant:"text",onClick:()=>G(l),startIcon:e.jsx(He,{}),disabled:X,sx:{textTransform:"none",fontWeight:700},children:"Refresh"})})})]}),V&&e.jsx(d,{variant:"caption",color:"error",sx:{mb:.5},children:V}),e.jsx(h,{direction:"row",spacing:1,flexWrap:"wrap",rowGap:1.2,children:X?Array.from({length:Math.max(6,Math.min(10,l))}).map((i,c)=>e.jsx(L,{label:"Loadingâ€¦",icon:e.jsx(F,{}),sx:{opacity:.65,fontWeight:700,background:r(t.palette.info.main,.12),border:`1px solid ${r(t.palette.info.main,.35)}`}},`skeleton-${c}`)):E.map((i,c)=>{const b=ie[c%ie.length];return e.jsx(L,{onClick:()=>he(i),icon:e.jsx(F,{}),label:i,sx:{cursor:"pointer",fontWeight:700,background:b.bg,border:`1px solid ${b.brd}`,transition:"transform .15s, box-shadow .15s, background .15s","&:hover":{background:r(b.brd,.18),transform:"translateY(-1px)",boxShadow:`0 6px 16px -8px ${r(b.brd,.55)}`}}},`${c}-${i}`)})})]}),e.jsxs(h,{direction:{xs:"column",sm:"row"},spacing:1.2,justifyContent:"flex-end",mt:3,children:[e.jsx(I,{variant:"text",startIcon:e.jsx(Re,{}),onClick:be,disabled:x||o,sx:{textTransform:"none",fontWeight:700},children:"Reset"}),e.jsx(I,{variant:"outlined",onClick:je,disabled:x||o,sx:{textTransform:"none",fontWeight:700},children:"Cancel"}),e.jsx(I,{variant:"contained",onClick:ye,disabled:x||o,startIcon:x||o?e.jsx(pe,{size:16,color:"inherit"}):e.jsx(R,{}),sx:{textTransform:"none",fontWeight:900,px:2.6,background:x||o?"linear-gradient(135deg,#9CA3AF,#6B7280)":"linear-gradient(135deg,#6366F1,#4F46E5 55%,#4338CA)",boxShadow:"0 8px 20px -8px rgba(79,70,229,.55), 0 2px 6px rgba(0,0,0,.25)","&:hover":{background:x||o?"linear-gradient(135deg,#9CA3AF,#6B7280)":"linear-gradient(135deg,#595CEB,#4841D6 55%,#3B32B8)"},"&:disabled":{background:"linear-gradient(135deg,#9CA3AF,#6B7280)",color:"rgba(255,255,255,0.7)"}},children:x||o?`ðŸ§  Generating ${l} Advanced Tasks...`:"ðŸš€ Generate Advanced Tasks"})]}),e.jsx(oe,{sx:{my:2.5}}),e.jsxs(h,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Oe,{sx:{color:"text.secondary"}}),e.jsx(d,{variant:"caption",color:"text.secondary",children:"Suggestions adapt to your project description & meta. Click any chip to add it to the promptâ€”selected chips disappear so you can keep picking fresh ones."})]})]})})}),e.jsxs(We,{fullWidth:!0,maxWidth:"sm",open:Y,TransitionComponent:Ke,keepMounted:!0,PaperProps:{sx:{borderRadius:3,overflow:"hidden",border:`1px solid ${r(t.palette.primary.main,.18)}`,background:t.palette.mode==="light"?"linear-gradient(150deg, rgba(255,255,255,0.98), rgba(239,242,255,0.96))":"linear-gradient(150deg, rgba(13,18,28,0.98), rgba(18,23,34,0.96))",boxShadow:"0 24px 48px -24px rgba(31,41,55,.35), 0 6px 18px rgba(0,0,0,.20)"}},children:[e.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1,pr:1},children:[x&&p<100?e.jsx(_,{theme:t,size:24}):e.jsx(R,{sx:{color:t.palette.primary.main}}),e.jsx(d,{variant:"subtitle1",fontWeight:900,children:x&&p<100?"AI Assistant is thinking...":"Crafting Your Tasks"}),e.jsx(a,{sx:{ml:"auto"},children:e.jsx(U,{"aria-label":"close",onClick:w,disabled:o,size:"small",children:e.jsx($e,{})})})]}),e.jsxs(Ee,{dividers:!0,sx:{position:"relative",overflow:"hidden",pb:2},children:[e.jsx(a,{"aria-hidden":!0,sx:{"@keyframes textIn":{"0%":{opacity:0,transform:"translateY(10px)"},"100%":{opacity:1,transform:"translateY(0)"}},"@keyframes textOut":{"0%":{opacity:1,transform:"translateY(0)"},"100%":{opacity:0,transform:"translateY(-8px)"}},"@keyframes bob":{"0%":{transform:"translateY(0)"},"50%":{transform:"translateY(-6px)"},"100%":{transform:"translateY(0)"}},"@keyframes stripShimmer":{"0%":{opacity:.3},"50%":{opacity:1},"100%":{opacity:.3}},"@keyframes confettiUp":{"0%":{transform:"translateY(0) scale(1)",opacity:1},"80%":{transform:"translateY(-22px) scale(1.1)",opacity:1},"100%":{transform:"translateY(-28px) scale(0.9)",opacity:0}},"@keyframes blinkCursor":{"0%, 100%":{opacity:0},"50%":{opacity:1}}}}),e.jsxs(h,{spacing:1.2,sx:{mb:2},children:[e.jsx(a,{sx:{width:"100%",height:8,borderRadius:999,background:r(t.palette.primary.main,.12),overflow:"hidden"},children:e.jsx(a,{sx:{width:`${p}%`,height:"100%",background:"linear-gradient(90deg, rgba(99,102,241,0.65), rgba(79,70,229,0.9))",position:"relative",transition:"width 0.6s cubic-bezier(0.4,0,0.2,1)","&::after":{content:'""',position:"absolute",top:0,right:0,width:28,height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent)",animation:"stripShimmer 1.2s ease-in-out infinite"}}})}),e.jsxs(h,{direction:"row",spacing:2,alignItems:"center",children:[e.jsxs(a,{sx:{position:"relative",width:56,height:56},children:[e.jsx(pe,{size:56,thickness:4,value:p,variant:"determinate",sx:{color:t.palette.primary.main,"& .MuiCircularProgress-circle":{strokeLinecap:"round"},filter:"drop-shadow(0 4px 10px rgba(79,70,229,.25))"}}),e.jsx(a,{sx:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs(d,{variant:"caption",fontWeight:900,color:"primary",children:[p,"%"]})})]}),e.jsx(d,{variant:"caption",color:"text.secondary",children:H[ve]}),e.jsxs(a,{sx:{ml:"auto",position:"relative"},children:[e.jsx(a,{sx:{width:42,height:42,borderRadius:"50%",background:"linear-gradient(145deg, #ffffff, #EEF2FF)",border:`1px solid ${r(t.palette.primary.main,.25)}`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 24px rgba(79,70,229,.22)",animation:"bob 2.4s ease-in-out infinite"},children:e.jsx(a,{"aria-hidden":!0,sx:{fontSize:20,transform:"translateY(1px)"},children:"ðŸ¤–"})}),p<100&&e.jsxs(a,{sx:{position:"absolute",top:-8,right:-8,background:r(t.palette.primary.main,.9),borderRadius:"12px",px:1,py:.5,display:"flex",gap:.3,alignItems:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.15)","@keyframes robotTypingDot1":{"0%, 60%, 100%":{transform:"scale(0.8)",opacity:.5},"30%":{transform:"scale(1)",opacity:1}},"@keyframes robotTypingDot2":{"0%, 30%, 90%, 100%":{transform:"scale(0.8)",opacity:.5},"60%":{transform:"scale(1)",opacity:1}},"@keyframes robotTypingDot3":{"0%, 60%, 100%":{transform:"scale(0.8)",opacity:.5},"90%":{transform:"scale(1)",opacity:1}}},children:[e.jsx(a,{sx:{width:3,height:3,borderRadius:"50%",background:"white",animation:"robotTypingDot1 1.8s ease-in-out infinite"}}),e.jsx(a,{sx:{width:3,height:3,borderRadius:"50%",background:"white",animation:"robotTypingDot2 1.8s ease-in-out infinite"}}),e.jsx(a,{sx:{width:3,height:3,borderRadius:"50%",background:"white",animation:"robotTypingDot3 1.8s ease-in-out infinite"}})]})]})]})]}),e.jsxs(se,{elevation:0,sx:{p:2,borderRadius:2.5,background:r(t.palette.primary.main,.06),border:`1px solid ${r(t.palette.primary.main,.2)}`,display:"flex",alignItems:"center",gap:1,position:"relative",minHeight:72},children:[e.jsx(a,{sx:{width:28,height:28,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:r(u===g&&p===100?t.palette.success.main:t.palette.primary.main,.12),border:`1px solid ${r(u===g&&p===100?t.palette.success.main:t.palette.primary.main,.45)}`,color:u===g&&p===100?t.palette.success.main:t.palette.primary.main,flex:"0 0 auto"},children:u===g&&p===100?e.jsx(De,{sx:{fontSize:18}}):p<100?e.jsx(_,{theme:t,size:16}):O.icon}),e.jsxs(a,{sx:{position:"relative",flexGrow:1,minWidth:0,height:28},children:[xe&&ae&&e.jsx(d,{variant:"body1",fontWeight:800,sx:{position:"absolute",inset:0,display:"flex",alignItems:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",animation:`textOut ${z}ms cubic-bezier(0.2, 0.6, 0.2, 1) both`,willChange:"transform, opacity"},children:ae.text}),e.jsx(d,{variant:"body1",fontWeight:800,sx:{position:"absolute",inset:0,display:"flex",alignItems:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",pr:1.5,animation:`textIn ${z}ms cubic-bezier(0.2, 0.6, 0.2, 1) both`,willChange:"transform, opacity",...p<100&&{"&::after":{content:'""',marginLeft:6,width:8,height:16,background:r(t.palette.text.primary,.85),animation:"blinkCursor .9s step-end infinite"}}},children:O.text},`text-${u}`)]}),e.jsx(d,{variant:"caption",sx:{fontWeight:900,color:u===g&&p===100?t.palette.success.main:r(t.palette.text.primary,.7),flex:"0 0 auto"},children:u===g&&p===100?"100%":`${Math.min(O.pct,99)}%`})]}),u===g&&p===100&&e.jsxs(a,{"aria-hidden":!0,sx:{position:"relative",mt:2,height:0,"& .sparkle":{position:"absolute",width:6,height:6,borderRadius:"50%",background:r(t.palette.secondary.main,.95),boxShadow:`0 0 0 2px ${r(t.palette.secondary.main,.18)}`,animation:"confettiUp 1.8s ease-in-out infinite"},"& .sparkle:nth-of-type(1)":{left:"6%",top:0,animationDelay:"0s"},"& .sparkle:nth-of-type(2)":{left:"22%",top:0,animationDelay:".2s"},"& .sparkle:nth-of-type(3)":{left:"44%",top:0,animationDelay:".4s"},"& .sparkle:nth-of-type(4)":{left:"66%",top:0,animationDelay:".6s"},"& .sparkle:nth-of-type(5)":{left:"84%",top:0,animationDelay:".8s"}},children:[e.jsx(a,{className:"sparkle"}),e.jsx(a,{className:"sparkle"}),e.jsx(a,{className:"sparkle"}),e.jsx(a,{className:"sparkle"}),e.jsx(a,{className:"sparkle"})]})]}),e.jsxs(Ye,{sx:{px:2,py:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",gap:1},children:[e.jsxs(d,{variant:"caption",sx:{color:r(t.palette.text.primary,.65),display:"inline-flex",alignItems:"center",gap:.5},children:[x&&p<100?e.jsx(_,{theme:t,size:12}):e.jsx(de,{sx:{fontSize:14,opacity:.7}}),x&&p<100?e.jsxs(e.Fragment,{children:["AI is analyzing and crafting tasks for"," ",e.jsx("strong",{style:{marginLeft:4},children:s?.name})]}):e.jsxs(e.Fragment,{children:["Generating ",l," tasks tailored to"," ",e.jsx("strong",{style:{marginLeft:4},children:s?.name})]})]}),e.jsxs(h,{direction:"row",spacing:1,children:[e.jsx(I,{onClick:w,variant:"text",disabled:o,sx:{textTransform:"none",fontWeight:700},children:"Hide"}),e.jsx(I,{onClick:w,variant:"contained",disabled:o,sx:{textTransform:"none",fontWeight:800,background:"linear-gradient(135deg,#6366F1,#4F46E5 55%,#4338CA)"},children:"Continue in Background"})]})]})]})]})]})}function Ve({theme:m}){return e.jsx(a,{component:"span",sx:{width:16,height:16,borderRadius:"4px",border:`2px solid ${r(m.palette.success.main,.9)}`,display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative","&::after":{content:'""',width:6,height:10,borderRight:`2px solid ${m.palette.success.main}`,borderBottom:`2px solid ${m.palette.success.main}`,transform:"rotate(45deg)",position:"absolute"}}})}function _({theme:m,size:s=20}){return e.jsxs(a,{sx:{display:"inline-flex",alignItems:"center",gap:.5,"@keyframes robotBounce":{"0%, 20%, 50%, 80%, 100%":{transform:"translateY(0) rotate(0deg)"},"40%":{transform:"translateY(-2px) rotate(-2deg)"},"60%":{transform:"translateY(-1px) rotate(1deg)"}},"@keyframes typingDot1":{"0%, 80%, 100%":{transform:"scale(0.6)",opacity:.4},"40%":{transform:"scale(1)",opacity:1}},"@keyframes typingDot2":{"0%, 20%, 60%, 100%":{transform:"scale(0.6)",opacity:.4},"40%":{transform:"scale(1)",opacity:1}},"@keyframes typingDot3":{"0%, 40%, 80%, 100%":{transform:"scale(0.6)",opacity:.4},"60%":{transform:"scale(1)",opacity:1}}},children:[e.jsx(ze,{sx:{fontSize:s,color:m.palette.primary.main,animation:"robotBounce 2s ease-in-out infinite",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.1))"}}),e.jsxs(a,{sx:{display:"flex",gap:.2,alignItems:"center",ml:.2},children:[e.jsx(a,{sx:{width:s*.15,height:s*.15,borderRadius:"50%",backgroundColor:m.palette.primary.main,animation:"typingDot1 1.4s ease-in-out infinite"}}),e.jsx(a,{sx:{width:s*.15,height:s*.15,borderRadius:"50%",backgroundColor:m.palette.primary.main,animation:"typingDot2 1.4s ease-in-out infinite 0.2s"}}),e.jsx(a,{sx:{width:s*.15,height:s*.15,borderRadius:"50%",backgroundColor:m.palette.primary.main,animation:"typingDot3 1.4s ease-in-out infinite 0.4s"}})]})]})}export{Qt as default};
