import{j as r}from"./index-BgEJ3fxA.js";import{r as z}from"./ProjectReportDialog-DJSS4N_t.js";import{u as W,H as M}from"./app-K9NsoLMf.js";import{C as y}from"./WorkspacePremiumRounded-BEMuXXNC.js";import{A as T}from"./AuthenticatedLayout-BoAa4njZ.js";import{u as F,T as i}from"./Typography-D7k_4FBJ.js";import{C as A}from"./Container-CINNDH99.js";import{B as a}from"./Box-DwDErR6p.js";import{P as D}from"./Paper-PFfIOqkm.js";import{c as h}from"./createSvgIcon-BJOZcqxU.js";import{B as c}from"./Button-awGqnw0r.js";import{A as _}from"./Add-BSB6z5ab.js";import{G as l}from"./Grid-DNDvuRa5.js";import{D as B}from"./Divider-Mh942rqT.js";import{P as w}from"./Person-CwYP7FD8.js";import{C}from"./Card-f4gJA82V.js";import{C as v}from"./CardContent-Bdo1cAqR.js";import{T as k}from"./TextField-BZLKsJ9m.js";import{S as x}from"./Stack-8UQV77y9.js";import{C as H}from"./Chip-21CA6oxg.js";import{a as o}from"./createTheme-C_kE-Qd2.js";import"./transition-BoHI2LEi.js";import"./CookieConsent-DEMz9Qt1.js";import"./Slide-BpTZt6Xy.js";import"./getReactElementRef-F5A8c8Er.js";import"./index-CaqUbZRR.js";import"./debounce-Be36O1Ab.js";import"./ownerWindow-XbzhRCTS.js";import"./Link-Cm4ksNIx.js";import"./DefaultPropsProvider-Bua-nAaA.js";import"./isFocusVisible-B8k4qzLc.js";import"./IconButton-MFFsjt5V.js";import"./ButtonBase-Cf3WRSsW.js";import"./CircularProgress-RchlJGKc.js";import"./Close-CE36E4Lb.js";import"./useThemeProps-BWPYVe8w.js";import"./isMuiElement-BEUJm6md.js";import"./dividerClasses-C37mlFxW.js";import"./useSlot-CiX-lWvG.js";import"./FormControl-9Ne_wXge.js";import"./List-D9XOj4nK.js";import"./index-Cvm9KgRT.js";import"./useSlotProps-5DvMlV7h.js";import"./Grow---KOMtVK.js";import"./Modal-DIrGbC0Y.js";import"./Portal-DfkSyL9i.js";import"./Fade-DhaX7TN9.js";import"./useControlled-LNSG5UB_.js";const L=h([r.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),r.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")]),O=h(r.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),V=h(r.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"}));function _r({projects:s,auth:R}){const t=F(),[u,g]=z.useState(s.length===0),{data:j,setData:f,post:P,processing:b,errors:d}=W({name:"",description:""}),$=e=>{e.preventDefault(),P("/projects")},n=s.filter(e=>e.is_owner),m=s.filter(e=>!e.is_owner),I=e=>{switch(e){case"owner":return r.jsx(y,{sx:{fontSize:16}});case"admin":return r.jsx(L,{sx:{fontSize:16}});default:return r.jsx(w,{sx:{fontSize:16}})}},S=e=>{switch(e){case"owner":return"warning";case"admin":return"primary";default:return"default"}},p=({project:e})=>r.jsx(l,{item:!0,xs:12,sm:6,md:4,children:r.jsx(C,{sx:{height:"100%",cursor:"pointer",transition:"all 0.3s ease",borderRadius:t.shape.borderRadius,"&:hover":{transform:"translateY(-4px)",boxShadow:t.shadows[8],borderColor:t.palette.primary.main},border:`1px solid ${o(t.palette.primary.main,.2)}`},onClick:()=>window.location.href=`/projects/${e.id}`,children:r.jsx(v,{sx:{p:3},children:r.jsxs(x,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[r.jsx(a,{sx:{p:1.5,borderRadius:2,background:`linear-gradient(135deg, ${o(t.palette.primary.main,.2)}, ${o(t.palette.primary.light,.1)})`,color:t.palette.primary.main},children:r.jsx(O,{sx:{fontSize:24}})}),r.jsxs(a,{sx:{flex:1,minWidth:0},children:[r.jsxs(x,{direction:"row",alignItems:"center",spacing:1,sx:{mb:.5},children:[r.jsx(i,{variant:"h6",component:"h2",fontWeight:600,noWrap:!0,title:e.name,sx:{flex:1},children:e.name}),r.jsx(H,{icon:I(e.user_role),label:e.user_role,size:"small",color:S(e.user_role),sx:{textTransform:"capitalize"}})]}),e.description&&r.jsx(i,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.description})]})]})})})},e.id);return r.jsxs(T,{user:R.user,children:[r.jsx(M,{title:"My Projects"}),r.jsxs(A,{maxWidth:"lg",sx:{py:4},children:[r.jsxs(a,{sx:{mb:4},children:[r.jsx(i,{variant:"h3",component:"h1",fontWeight:700,sx:{mb:2},children:"Your Projects"}),r.jsx(i,{variant:"body1",color:"text.secondary",children:"Manage and organize your work with TaskPilot projects"})]}),s.length===0?r.jsxs(D,{sx:{textAlign:"center",py:10,px:4,background:`linear-gradient(135deg, ${o(t.palette.primary.main,.1)}, ${o(t.palette.secondary.main,.05)})`,border:`1px solid ${o(t.palette.primary.main,.2)}`,borderRadius:4},children:[r.jsx(V,{sx:{fontSize:80,color:t.palette.primary.main,mb:2}}),r.jsx(i,{variant:"h5",sx:{mb:2},children:"No projects yet"}),r.jsx(i,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Create your first project to get started with TaskPilot"}),!u&&r.jsx(c,{variant:"contained",size:"large",startIcon:r.jsx(_,{}),onClick:()=>g(!0),sx:{px:4,py:1.5,borderRadius:t.shape.borderRadius,background:`linear-gradient(135deg, ${t.palette.primary.main}, ${t.palette.primary.dark})`,boxShadow:t.shadows[4],"&:hover":{background:`linear-gradient(135deg, ${t.palette.primary.dark}, ${t.palette.primary.main})`,boxShadow:t.shadows[8]}},children:"Create Your First Project"})]}):r.jsxs(a,{children:[n.length>0&&r.jsxs(a,{sx:{mb:4},children:[r.jsxs(i,{variant:"h5",fontWeight:600,sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[r.jsx(y,{color:"warning"}),"My Projects (",n.length,")"]}),r.jsx(l,{container:!0,spacing:3,children:n.map(e=>r.jsx(p,{project:e},`owned-${e.id}`))})]}),m.length>0&&r.jsxs(a,{children:[n.length>0&&r.jsx(B,{sx:{my:4}}),r.jsxs(i,{variant:"h5",fontWeight:600,sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[r.jsx(w,{color:"primary"}),"Shared with Me (",m.length,")"]}),r.jsx(l,{container:!0,spacing:3,children:m.map(e=>r.jsx(p,{project:e},`member-${e.id}`))})]}),n.length===0&&m.length===0&&r.jsx(l,{container:!0,spacing:3,children:s.map(e=>r.jsx(p,{project:e},e.id))})]}),u&&r.jsx(C,{sx:{mt:4,borderRadius:t.shape.borderRadius},children:r.jsxs(v,{sx:{p:4},children:[r.jsx(i,{variant:"h5",sx:{mb:3},children:"Create New Project"}),r.jsxs(a,{component:"form",onSubmit:$,sx:{display:"flex",flexDirection:"column",gap:3},children:[r.jsx(k,{fullWidth:!0,label:"Project Name",value:j.name,onChange:e=>f("name",e.target.value),error:!!d.name,helperText:d.name,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:t.shape.borderRadius}}}),r.jsx(k,{fullWidth:!0,label:"Description",value:j.description,onChange:e=>f("description",e.target.value),error:!!d.description,helperText:d.description,multiline:!0,rows:3,sx:{"& .MuiOutlinedInput-root":{borderRadius:t.shape.borderRadius}}}),r.jsxs(x,{direction:"row",spacing:2,justifyContent:"flex-end",children:[r.jsx(c,{variant:"outlined",onClick:()=>g(!1),sx:{borderRadius:t.shape.borderRadius},children:"Cancel"}),r.jsx(c,{type:"submit",variant:"contained",disabled:b,sx:{borderRadius:t.shape.borderRadius,background:`linear-gradient(135deg, ${t.palette.primary.main}, ${t.palette.primary.dark})`,"&:hover":{background:`linear-gradient(135deg, ${t.palette.primary.dark}, ${t.palette.primary.main})`}},children:b?"Creating...":"Create Project"})]})]})]})})]})]})}export{_r as default};
