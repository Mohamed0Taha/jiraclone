<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced SPA Generation System Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f6fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .demo-section {
            background: white;
            margin: 20px 0;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .demo-title {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .component-demo {
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            background: #fafbfc;
        }
        
        .component-title {
            color: #34495e;
            margin: 0 0 15px 0;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .component-description {
            color: #7f8c8d;
            margin-bottom: 15px;
        }
        
        .demo-form {
            display: grid;
            gap: 15px;
            max-width: 600px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        label {
            font-weight: 500;
            color: #2c3e50;
        }
        
        input, textarea, select {
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .btn {
            padding: 12px 24px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
        }
        
        .btn:hover {
            background: #2980b9;
            transform: translateY(-1px);
        }
        
        .result-area {
            margin-top: 20px;
            padding: 15px;
            background: #ecf0f1;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        
        .success {
            background: #d5edda;
            border-left-color: #28a745;
            color: #155724;
        }
        
        .analysis-result {
            background: #fff3cd;
            border-left-color: #ffc107;
            color: #856404;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        
        .feature-card h4 {
            margin: 0 0 10px 0;
            color: #2c3e50;
        }
        
        .feature-card ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .feature-card li {
            margin: 5px 0;
            color: #555;
        }
        
        .iframe-demo {
            width: 100%;
            height: 600px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            background: white;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .demo-section {
                padding: 20px;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="demo-section">
            <h1 class="demo-title">üöÄ Enhanced SPA Generation System</h1>
            <p>This demo showcases the new component-based SPA generation system that solves the problems of non-functional buttons and generic SPAs by using intelligent component analysis and a reusable component library.</p>
        </header>

        <div class="demo-section">
            <h2 class="demo-title">üìã Problem Statement Analysis</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>‚ùå Original Problems</h4>
                    <ul>
                        <li>Buttons don't work in generated SPAs</li>
                        <li>Generic SPAs not related to user requests</li>
                        <li>No component library or reusability</li>
                        <li>Poor analysis of user requirements</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>‚úÖ Our Solutions</h4>
                    <ul>
                        <li>Functional components with working JavaScript</li>
                        <li>Request analysis to match user needs</li>
                        <li>Library of 20+ reusable components</li>
                        <li>Intelligent component selection</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2 class="demo-title">üîç Request Analysis Demo</h2>
            <p>Enter a request below to see how the system analyzes it and selects appropriate components:</p>
            
            <form class="demo-form" id="analysisForm">
                <div class="form-group">
                    <label for="userRequest">User Request:</label>
                    <textarea id="userRequest" rows="3" placeholder="e.g., Create an expense tracker app for my team"></textarea>
                </div>
                <button type="submit" class="btn">Analyze Request</button>
            </form>
            
            <div id="analysisResult" class="result-area" style="display: none;"></div>
        </div>

        <div class="demo-section">
            <h2 class="demo-title">üß© Component Library</h2>
            <p>Our system includes 20+ pre-built components that can be intelligently combined:</p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üìù Forms</h4>
                    <ul>
                        <li>Basic Form</li>
                        <li>Contact Form</li>
                        <li>Search Form</li>
                        <li>Login Form</li>
                        <li>Survey Form</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>üìä Data Display</h4>
                    <ul>
                        <li>Interactive Data Table</li>
                        <li>Card-based Lists</li>
                        <li>Dashboard Grid</li>
                        <li>Timeline View</li>
                        <li>Kanban Board</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>üìà Charts & Analytics</h4>
                    <ul>
                        <li>Bar/Column Charts</li>
                        <li>Line/Area Charts</li>
                        <li>Pie/Doughnut Charts</li>
                        <li>Progress Meters</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>‚ö° Interactive Tools</h4>
                    <ul>
                        <li>Calculator</li>
                        <li>Counter/Tracker</li>
                        <li>Timer/Stopwatch</li>
                        <li>File Uploader</li>
                        <li>Image Gallery</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2 class="demo-title">üéØ Generated SPA Examples</h2>
            <p>Click the buttons below to see examples of fully functional SPAs generated by our system:</p>
            
            <div style="display: flex; gap: 15px; margin: 20px 0; flex-wrap: wrap;">
                <button class="btn" onclick="loadExample('calculator')">Calculator App</button>
                <button class="btn" onclick="loadExample('expense-tracker')">Expense Tracker</button>
                <button class="btn" onclick="loadExample('dashboard')">Team Dashboard</button>
                <button class="btn" onclick="loadExample('timer')">Productivity Timer</button>
            </div>
            
            <iframe id="exampleFrame" class="iframe-demo" src="" style="display: none;"></iframe>
        </div>

        <div class="demo-section">
            <h2 class="demo-title">üîß Technical Implementation</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>Component Analysis</h4>
                    <ul>
                        <li>NLP-based request parsing</li>
                        <li>Pattern matching for app types</li>
                        <li>Input/output type identification</li>
                        <li>Automatic component selection</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Enhanced Prompting</h4>
                    <ul>
                        <li>Component-specific requirements</li>
                        <li>Functional JavaScript enforcement</li>
                        <li>Accessibility guidelines</li>
                        <li>Modern web standards</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Fallback System</h4>
                    <ul>
                        <li>Component-based templates</li>
                        <li>Working JavaScript guaranteed</li>
                        <li>Professional styling</li>
                        <li>Responsive design</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Persistence & Management</h4>
                    <ul>
                        <li>Database storage</li>
                        <li>Version tracking</li>
                        <li>Component metadata</li>
                        <li>User preferences</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Component analysis simulation
        const componentAnalysis = {
            'expense tracker': {
                components: ['basic_form', 'data_table', 'dashboard_grid'],
                input_types: ['text_input', 'numeric_input', 'data_filtering'],
                output_types: ['data_display', 'computed_result', 'chart_visualization'],
                analysis: 'Expense tracking requires forms for data entry, tables for viewing expenses, and dashboard for analytics.'
            },
            'calculator': {
                components: ['calculator'],
                input_types: ['numeric_input', 'click_actions'],
                output_types: ['computed_result'],
                analysis: 'Mathematical tool requiring input buttons and computation display.'
            },
            'dashboard': {
                components: ['dashboard_grid', 'bar_chart', 'data_table'],
                input_types: ['data_filtering', 'time_range'],
                output_types: ['chart_visualization', 'data_display', 'metrics'],
                analysis: 'Dashboard needs stat cards, charts for data visualization, and tables for detailed data.'
            },
            'timer': {
                components: ['timer', 'counter'],
                input_types: ['time_controls', 'click_actions'],
                output_types: ['time_display', 'notifications'],
                analysis: 'Productivity timer needs time controls, display, and tracking capabilities.'
            },
            'todo': {
                components: ['basic_form', 'card_list', 'search_form'],
                input_types: ['text_input', 'data_filtering'],
                output_types: ['data_display', 'task_management'],
                analysis: 'Task management requires forms for adding tasks, lists for display, and search for filtering.'
            },
            'contact': {
                components: ['contact_form', 'data_table'],
                input_types: ['text_input', 'email_validation'],
                output_types: ['form_submission', 'data_display'],
                analysis: 'Contact management needs forms for data entry and tables for viewing contacts.'
            }
        };

        function analyzeRequest(request) {
            const lowerRequest = request.toLowerCase();
            
            // Find best match
            for (const [key, analysis] of Object.entries(componentAnalysis)) {
                if (lowerRequest.includes(key)) {
                    return analysis;
                }
            }
            
            // Default analysis for unknown requests
            return {
                components: ['basic_form', 'data_table'],
                input_types: ['text_input', 'data_filtering'],
                output_types: ['data_display'],
                analysis: 'General application requiring basic data entry and display capabilities.'
            };
        }

        document.getElementById('analysisForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const request = document.getElementById('userRequest').value.trim();
            if (!request) {
                alert('Please enter a request to analyze.');
                return;
            }
            
            const analysis = analyzeRequest(request);
            const resultDiv = document.getElementById('analysisResult');
            
            resultDiv.innerHTML = `
                <h4>üîç Analysis Results</h4>
                <p><strong>Request:</strong> "${request}"</p>
                <p><strong>Components Identified:</strong> ${analysis.components.join(', ')}</p>
                <p><strong>Input Types:</strong> ${analysis.input_types.join(', ')}</p>
                <p><strong>Output Types:</strong> ${analysis.output_types.join(', ')}</p>
                <p><strong>Analysis:</strong> ${analysis.analysis}</p>
                <div style="margin-top: 15px; padding: 10px; background: #e8f5e8; border-radius: 6px; color: #2d5a2d;">
                    ‚úÖ This analysis would be used to generate a fully functional SPA with working buttons and relevant features!
                </div>
            `;
            resultDiv.className = 'result-area analysis-result';
            resultDiv.style.display = 'block';
        });

        function loadExample(type) {
            const examples = {
                'calculator': generateCalculatorExample(),
                'expense-tracker': generateExpenseTrackerExample(),
                'dashboard': generateDashboardExample(),
                'timer': generateTimerExample()
            };
            
            const frame = document.getElementById('exampleFrame');
            frame.style.display = 'block';
            
            // Create a blob URL for the HTML content
            const blob = new Blob([examples[type]], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            frame.src = url;
        }

        function generateCalculatorExample() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator App</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 20px; background: #f5f6fa; }
        .calculator { max-width: 300px; margin: 0 auto; background: #2c3e50; border-radius: 12px; padding: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.2); }
        .display { width: 100%; height: 60px; font-size: 1.8rem; text-align: right; padding: 0 15px; background: #1a1a1a; color: white; border: none; border-radius: 8px; margin-bottom: 15px; box-sizing: border-box; }
        .buttons { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .btn { height: 50px; font-size: 1.2rem; background: #4a4a4a; color: white; border: none; border-radius: 8px; cursor: pointer; transition: all 0.2s; }
        .btn:hover { background: #5a5a5a; transform: scale(1.05); }
        .btn.operator { background: #3498db; }
        .btn.equals { background: #e74c3c; grid-column: span 2; }
        .btn.clear { background: #e67e22; }
        .btn.zero { grid-column: span 2; }
    </style>
</head>
<body>
    <div class="calculator">
        <input type="text" class="display" id="display" readonly>
        <div class="buttons">
            <button class="btn clear" onclick="clearDisplay()">C</button>
            <button class="btn operator" onclick="appendToDisplay('/')" title="Divide">√∑</button>
            <button class="btn operator" onclick="appendToDisplay('*')" title="Multiply">√ó</button>
            <button class="btn" onclick="backspace()" title="Backspace">‚å´</button>
            
            <button class="btn" onclick="appendToDisplay('7')">7</button>
            <button class="btn" onclick="appendToDisplay('8')">8</button>
            <button class="btn" onclick="appendToDisplay('9')">9</button>
            <button class="btn operator" onclick="appendToDisplay('-')" title="Subtract">‚àí</button>
            
            <button class="btn" onclick="appendToDisplay('4')">4</button>
            <button class="btn" onclick="appendToDisplay('5')">5</button>
            <button class="btn" onclick="appendToDisplay('6')">6</button>
            <button class="btn operator" onclick="appendToDisplay('+')" title="Add">+</button>
            
            <button class="btn" onclick="appendToDisplay('1')">1</button>
            <button class="btn" onclick="appendToDisplay('2')">2</button>
            <button class="btn" onclick="appendToDisplay('3')">3</button>
            <button class="btn equals" onclick="calculate()" title="Calculate">=</button>
            
            <button class="btn zero" onclick="appendToDisplay('0')">0</button>
            <button class="btn" onclick="appendToDisplay('.')">.</button>
        </div>
    </div>
    
    <script>
        let display = document.getElementById('display');
        
        function appendToDisplay(value) {
            if (display.value === '0' && value !== '.') {
                display.value = value;
            } else {
                display.value += value;
            }
        }
        
        function clearDisplay() {
            display.value = '';
        }
        
        function backspace() {
            display.value = display.value.slice(0, -1);
        }
        
        function calculate() {
            try {
                let result = eval(display.value.replace(/√ó/g, '*').replace(/√∑/g, '/').replace(/‚àí/g, '-'));
                display.value = result;
            } catch (error) {
                display.value = 'Error';
                setTimeout(() => display.value = '', 2000);
            }
        }
        
        // Keyboard support
        document.addEventListener('keydown', function(e) {
            if (e.key >= '0' && e.key <= '9' || e.key === '.') {
                appendToDisplay(e.key);
            } else if (e.key === '+' || e.key === '-' || e.key === '*' || e.key === '/') {
                appendToDisplay(e.key);
            } else if (e.key === 'Enter' || e.key === '=') {
                calculate();
            } else if (e.key === 'Escape' || e.key === 'c' || e.key === 'C') {
                clearDisplay();
            } else if (e.key === 'Backspace') {
                backspace();
            }
        });
    </script>
</body>
</html>`;
        }

        function generateExpenseTrackerExample() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 20px; background: #f5f6fa; }
        .container { max-width: 800px; margin: 0 auto; }
        .card { background: white; border-radius: 12px; padding: 25px; margin: 20px 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .form-group { margin: 15px 0; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 500; color: #2c3e50; }
        .form-group input, .form-group select { width: 100%; padding: 12px; border: 2px solid #ecf0f1; border-radius: 8px; font-size: 1rem; box-sizing: border-box; }
        .form-group input:focus, .form-group select:focus { outline: none; border-color: #3498db; }
        .btn { padding: 12px 24px; background: #3498db; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 500; }
        .btn:hover { background: #2980b9; }
        .btn-danger { background: #e74c3c; }
        .btn-danger:hover { background: #c0392b; }
        .expense-list { margin-top: 20px; }
        .expense-item { display: flex; justify-content: space-between; align-items: center; padding: 15px; border: 1px solid #ecf0f1; border-radius: 8px; margin: 10px 0; }
        .expense-item:hover { background: #f8f9fa; }
        .expense-details { flex: 1; }
        .expense-amount { font-weight: bold; color: #e74c3c; font-size: 1.1rem; }
        .total-amount { font-size: 1.5rem; font-weight: bold; color: #2c3e50; text-align: center; padding: 20px; background: #ecf0f1; border-radius: 8px; }
        .category-tag { display: inline-block; padding: 4px 8px; background: #3498db; color: white; border-radius: 4px; font-size: 0.8rem; margin-left: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>üí∞ Expense Tracker</h1>
            <form id="expenseForm">
                <div class="form-group">
                    <label for="description">Description</label>
                    <input type="text" id="description" placeholder="e.g., Coffee, Lunch, Gas" required>
                </div>
                <div class="form-group">
                    <label for="amount">Amount ($)</label>
                    <input type="number" id="amount" step="0.01" placeholder="0.00" required>
                </div>
                <div class="form-group">
                    <label for="category">Category</label>
                    <select id="category" required>
                        <option value="">Select category</option>
                        <option value="food">Food & Dining</option>
                        <option value="transport">Transportation</option>
                        <option value="shopping">Shopping</option>
                        <option value="utilities">Utilities</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <button type="submit" class="btn">Add Expense</button>
            </form>
        </div>
        
        <div class="card">
            <div class="total-amount" id="totalAmount">Total: $0.00</div>
        </div>
        
        <div class="card">
            <h2>Recent Expenses</h2>
            <div class="expense-list" id="expenseList">
                <p style="text-align: center; color: #7f8c8d;">No expenses yet. Add your first expense above!</p>
            </div>
        </div>
    </div>
    
    <script>
        let expenses = JSON.parse(localStorage.getItem('expenses')) || [];
        
        function renderExpenses() {
            const list = document.getElementById('expenseList');
            const total = document.getElementById('totalAmount');
            
            if (expenses.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: #7f8c8d;">No expenses yet. Add your first expense above!</p>';
                total.textContent = 'Total: $0.00';
                return;
            }
            
            const totalAmount = expenses.reduce((sum, expense) => sum + expense.amount, 0);
            total.textContent = \`Total: $\${totalAmount.toFixed(2)}\`;
            
            list.innerHTML = expenses.map((expense, index) => \`
                <div class="expense-item">
                    <div class="expense-details">
                        <strong>\${expense.description}</strong>
                        <span class="category-tag">\${expense.category}</span>
                        <br>
                        <small style="color: #7f8c8d;">\${expense.date}</small>
                    </div>
                    <div>
                        <div class="expense-amount">$\${expense.amount.toFixed(2)}</div>
                        <button class="btn btn-danger" style="margin-top: 5px; padding: 5px 10px; font-size: 0.8rem;" onclick="deleteExpense(\${index})">Delete</button>
                    </div>
                </div>
            \`).join('');
        }
        
        function addExpense(description, amount, category) {
            const expense = {
                description,
                amount: parseFloat(amount),
                category,
                date: new Date().toLocaleDateString(),
                id: Date.now()
            };
            
            expenses.unshift(expense);
            localStorage.setItem('expenses', JSON.stringify(expenses));
            renderExpenses();
        }
        
        function deleteExpense(index) {
            if (confirm('Are you sure you want to delete this expense?')) {
                expenses.splice(index, 1);
                localStorage.setItem('expenses', JSON.stringify(expenses));
                renderExpenses();
            }
        }
        
        document.getElementById('expenseForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const description = document.getElementById('description').value;
            const amount = document.getElementById('amount').value;
            const category = document.getElementById('category').value;
            
            addExpense(description, amount, category);
            
            // Reset form
            this.reset();
            
            // Show success message
            const button = this.querySelector('button');
            const originalText = button.textContent;
            button.textContent = 'Added!';
            button.style.background = '#27ae60';
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = '#3498db';
            }, 1000);
        });
        
        // Initial render
        renderExpenses();
    </script>
</body>
</html>`;
        }

        function generateDashboardExample() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Dashboard</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 20px; background: #f5f6fa; }
        .container { max-width: 1200px; margin: 0 auto; }
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0; }
        .stat-card { background: linear-gradient(135deg, #3498db, #2980b9); color: white; padding: 30px 20px; border-radius: 12px; text-align: center; box-shadow: 0 8px 25px rgba(52, 152, 219, 0.3); transition: transform 0.2s; }
        .stat-card:hover { transform: translateY(-5px); }
        .stat-card:nth-child(2) { background: linear-gradient(135deg, #2ecc71, #27ae60); box-shadow: 0 8px 25px rgba(46, 204, 113, 0.3); }
        .stat-card:nth-child(3) { background: linear-gradient(135deg, #f39c12, #e67e22); box-shadow: 0 8px 25px rgba(243, 156, 18, 0.3); }
        .stat-card:nth-child(4) { background: linear-gradient(135deg, #e74c3c, #c0392b); box-shadow: 0 8px 25px rgba(231, 76, 60, 0.3); }
        .stat-value { font-size: 2.5rem; font-weight: bold; margin-bottom: 5px; }
        .stat-label { font-size: 0.9rem; opacity: 0.9; text-transform: uppercase; letter-spacing: 1px; }
        .card { background: white; border-radius: 12px; padding: 25px; margin: 20px 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .chart-container { height: 300px; background: #f8f9fa; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #7f8c8d; }
        .task-list { margin-top: 20px; }
        .task-item { display: flex; justify-content: space-between; align-items: center; padding: 15px; border: 1px solid #ecf0f1; border-radius: 8px; margin: 10px 0; }
        .task-item:hover { background: #f8f9fa; }
        .task-priority { padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: 500; }
        .priority-high { background: #e74c3c; color: white; }
        .priority-medium { background: #f39c12; color: white; }
        .priority-low { background: #2ecc71; color: white; }
        .status-badge { padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: 500; }
        .status-todo { background: #ecf0f1; color: #2c3e50; }
        .status-progress { background: #3498db; color: white; }
        .status-done { background: #2ecc71; color: white; }
        .refresh-btn { background: #3498db; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; margin: 0 5px; }
        .refresh-btn:hover { background: #2980b9; }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>üìä Team Dashboard</h1>
            <p>Real-time overview of team productivity and project status</p>
            <button class="refresh-btn" onclick="refreshData()">üîÑ Refresh Data</button>
            <button class="refresh-btn" onclick="exportData()">üì• Export Report</button>
        </div>
        
        <div class="dashboard-grid">
            <div class="stat-card">
                <div class="stat-value" id="totalTasks">24</div>
                <div class="stat-label">Total Tasks</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="completedTasks">18</div>
                <div class="stat-label">Completed</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="inProgressTasks">4</div>
                <div class="stat-label">In Progress</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="teamMembers">6</div>
                <div class="stat-label">Team Members</div>
            </div>
        </div>
        
        <div class="card">
            <h2>üìà Progress Chart</h2>
            <div class="chart-container">
                <canvas id="progressChart" width="400" height="200"></canvas>
            </div>
        </div>
        
        <div class="card">
            <h2>üìù Recent Tasks</h2>
            <div class="task-list" id="taskList">
                <!-- Tasks will be populated here -->
            </div>
        </div>
    </div>
    
    <script>
        const sampleTasks = [
            { id: 1, title: "Design new landing page", priority: "high", status: "progress", assignee: "Alice Johnson" },
            { id: 2, title: "Fix authentication bug", priority: "high", status: "todo", assignee: "Bob Smith" },
            { id: 3, title: "Update documentation", priority: "medium", status: "done", assignee: "Carol Davis" },
            { id: 4, title: "Optimize database queries", priority: "medium", status: "progress", assignee: "David Wilson" },
            { id: 5, title: "Write unit tests", priority: "low", status: "todo", assignee: "Eve Brown" },
            { id: 6, title: "Code review session", priority: "medium", status: "done", assignee: "Frank Miller" }
        ];
        
        function renderTasks() {
            const taskList = document.getElementById('taskList');
            taskList.innerHTML = sampleTasks.map(task => \`
                <div class="task-item">
                    <div>
                        <strong>\${task.title}</strong><br>
                        <small style="color: #7f8c8d;">Assigned to: \${task.assignee}</small>
                    </div>
                    <div style="text-align: right;">
                        <div class="task-priority priority-\${task.priority}">\${task.priority.toUpperCase()}</div>
                        <div class="status-badge status-\${task.status}" style="margin-top: 5px;">
                            \${task.status === 'todo' ? 'To Do' : task.status === 'progress' ? 'In Progress' : 'Done'}
                        </div>
                    </div>
                </div>
            \`).join('');
        }
        
        function drawChart() {
            const canvas = document.getElementById('progressChart');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Sample data
            const data = [18, 4, 2]; // Completed, In Progress, To Do
            const labels = ['Completed', 'In Progress', 'To Do'];
            const colors = ['#2ecc71', '#3498db', '#ecf0f1'];
            
            const total = data.reduce((sum, val) => sum + val, 0);
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 80;
            
            let currentAngle = -Math.PI / 2;
            
            // Draw pie chart
            data.forEach((value, index) => {
                const sliceAngle = (value / total) * 2 * Math.PI;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
                ctx.closePath();
                ctx.fillStyle = colors[index];
                ctx.fill();
                
                // Draw label
                const labelAngle = currentAngle + sliceAngle / 2;
                const labelX = centerX + Math.cos(labelAngle) * (radius + 30);
                const labelY = centerY + Math.sin(labelAngle) * (radius + 30);
                
                ctx.fillStyle = '#2c3e50';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(\`\${labels[index]}: \${value}\`, labelX, labelY);
                
                currentAngle += sliceAngle;
            });
        }
        
        function animateValue(id, start, end, duration) {
            const element = document.getElementById(id);
            const range = end - start;
            const increment = end > start ? 1 : -1;
            const stepTime = Math.abs(Math.floor(duration / range));
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                element.textContent = current;
                if (current === end) {
                    clearInterval(timer);
                }
            }, stepTime);
        }
        
        function refreshData() {
            // Simulate data refresh with animation
            const stats = [
                Math.floor(Math.random() * 10) + 20,  // total tasks
                Math.floor(Math.random() * 5) + 15,   // completed
                Math.floor(Math.random() * 3) + 3,    // in progress
                6  // team members (static)
            ];
            
            animateValue('totalTasks', 0, stats[0], 1000);
            animateValue('completedTasks', 0, stats[1], 1200);
            animateValue('inProgressTasks', 0, stats[2], 800);
            
            setTimeout(() => {
                drawChart();
            }, 1500);
            
            // Show refresh feedback
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = 'üîÑ Refreshing...';
            btn.disabled = true;
            setTimeout(() => {
                btn.textContent = originalText;
                btn.disabled = false;
            }, 2000);
        }
        
        function exportData() {
            const data = {
                timestamp: new Date().toISOString(),
                stats: {
                    totalTasks: document.getElementById('totalTasks').textContent,
                    completedTasks: document.getElementById('completedTasks').textContent,
                    inProgressTasks: document.getElementById('inProgressTasks').textContent,
                    teamMembers: document.getElementById('teamMembers').textContent
                },
                tasks: sampleTasks
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const blob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'team-dashboard-report.json';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        // Initialize dashboard
        renderTasks();
        drawChart();
        
        // Auto-refresh every 30 seconds
        setInterval(refreshData, 30000);
    </script>
</body>
</html>`;
        }

        function generateTimerExample() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productivity Timer</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .container { max-width: 600px; margin: 0 auto; }
        .timer-card { background: rgba(255, 255, 255, 0.95); border-radius: 20px; padding: 40px; text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.1); backdrop-filter: blur(10px); }
        .timer-display { font-size: 4rem; font-weight: bold; font-family: 'Courier New', monospace; color: #2c3e50; margin: 30px 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
        .timer-controls { display: flex; justify-content: center; gap: 15px; margin: 30px 0; flex-wrap: wrap; }
        .btn { padding: 15px 25px; border: none; border-radius: 50px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 1px; }
        .btn-start { background: linear-gradient(135deg, #2ecc71, #27ae60); color: white; }
        .btn-pause { background: linear-gradient(135deg, #f39c12, #e67e22); color: white; }
        .btn-reset { background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .preset-buttons { display: flex; justify-content: center; gap: 10px; margin: 20px 0; flex-wrap: wrap; }
        .btn-preset { padding: 8px 16px; background: rgba(52, 152, 219, 0.1); color: #3498db; border: 2px solid #3498db; border-radius: 20px; font-size: 0.9rem; cursor: pointer; transition: all 0.2s; }
        .btn-preset:hover { background: #3498db; color: white; }
        .session-info { margin: 20px 0; padding: 20px; background: rgba(52, 152, 219, 0.1); border-radius: 15px; }
        .progress-bar { width: 100%; height: 8px; background: rgba(0,0,0,0.1); border-radius: 4px; overflow: hidden; margin: 15px 0; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #3498db, #2ecc71); transition: width 0.5s ease; border-radius: 4px; }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; margin: 20px 0; }
        .stat-item { text-align: center; padding: 15px; background: rgba(255,255,255,0.5); border-radius: 10px; }
        .stat-value { font-size: 1.5rem; font-weight: bold; color: #2c3e50; }
        .stat-label { font-size: 0.8rem; color: #7f8c8d; text-transform: uppercase; letter-spacing: 1px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="timer-card">
            <h1>‚è∞ Productivity Timer</h1>
            <p>Stay focused with the Pomodoro technique</p>
            
            <div class="timer-display" id="timerDisplay">25:00</div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
            </div>
            
            <div class="session-info">
                <div id="sessionType">Work Session</div>
                <div style="font-size: 0.9rem; color: #7f8c8d; margin-top: 5px;">
                    Session <span id="sessionCount">1</span>
                </div>
            </div>
            
            <div class="timer-controls">
                <button class="btn btn-start" id="startBtn" onclick="startTimer()">Start</button>
                <button class="btn btn-pause" id="pauseBtn" onclick="pauseTimer()">Pause</button>
                <button class="btn btn-reset" onclick="resetTimer()">Reset</button>
            </div>
            
            <div class="preset-buttons">
                <button class="btn-preset" onclick="setTimer(1500)">25 min (Pomodoro)</button>
                <button class="btn-preset" onclick="setTimer(300)">5 min (Short Break)</button>
                <button class="btn-preset" onclick="setTimer(900)">15 min (Long Break)</button>
                <button class="btn-preset" onclick="setTimer(3600)">60 min (Deep Work)</button>
            </div>
            
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-value" id="completedSessions">0</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="totalTime">0h 0m</div>
                    <div class="stat-label">Total Time</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="currentStreak">0</div>
                    <div class="stat-label">Streak</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let timerInterval;
        let totalSeconds = 1500; // 25 minutes default
        let originalSeconds = 1500;
        let isRunning = false;
        let sessionCount = parseInt(localStorage.getItem('sessionCount') || '1');
        let completedSessions = parseInt(localStorage.getItem('completedSessions') || '0');
        let totalTimeSpent = parseInt(localStorage.getItem('totalTimeSpent') || '0');
        let currentStreak = parseInt(localStorage.getItem('currentStreak') || '0');
        
        function updateDisplay() {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            document.getElementById('timerDisplay').textContent = 
                \`\${minutes.toString().padStart(2, '0')}:\${seconds.toString().padStart(2, '0')}\`;
            
            // Update progress bar
            const progress = ((originalSeconds - totalSeconds) / originalSeconds) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // Update stats
            document.getElementById('sessionCount').textContent = sessionCount;
            document.getElementById('completedSessions').textContent = completedSessions;
            
            const hours = Math.floor(totalTimeSpent / 3600);
            const mins = Math.floor((totalTimeSpent % 3600) / 60);
            document.getElementById('totalTime').textContent = \`\${hours}h \${mins}m\`;
            document.getElementById('currentStreak').textContent = currentStreak;
        }
        
        function startTimer() {
            if (!isRunning) {
                isRunning = true;
                document.getElementById('startBtn').style.display = 'none';
                document.getElementById('pauseBtn').style.display = 'inline-block';
                
                timerInterval = setInterval(() => {
                    totalSeconds--;
                    updateDisplay();
                    
                    if (totalSeconds <= 0) {
                        completeSession();
                    }
                }, 1000);
            }
        }
        
        function pauseTimer() {
            if (isRunning) {
                isRunning = false;
                clearInterval(timerInterval);
                document.getElementById('startBtn').style.display = 'inline-block';
                document.getElementById('pauseBtn').style.display = 'none';
            }
        }
        
        function resetTimer() {
            isRunning = false;
            clearInterval(timerInterval);
            totalSeconds = originalSeconds;
            updateDisplay();
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('pauseBtn').style.display = 'none';
        }
        
        function setTimer(seconds) {
            resetTimer();
            totalSeconds = seconds;
            originalSeconds = seconds;
            updateDisplay();
            
            // Update session type
            const sessionType = document.getElementById('sessionType');
            if (seconds === 1500) {
                sessionType.textContent = 'Work Session';
            } else if (seconds === 300) {
                sessionType.textContent = 'Short Break';
            } else if (seconds === 900) {
                sessionType.textContent = 'Long Break';
            } else if (seconds === 3600) {
                sessionType.textContent = 'Deep Work';
            } else {
                sessionType.textContent = 'Custom Session';
            }
        }
        
        function completeSession() {
            pauseTimer();
            
            // Update stats
            completedSessions++;
            totalTimeSpent += originalSeconds;
            currentStreak++;
            sessionCount++;
            
            // Save to localStorage
            localStorage.setItem('completedSessions', completedSessions);
            localStorage.setItem('totalTimeSpent', totalTimeSpent);
            localStorage.setItem('currentStreak', currentStreak);
            localStorage.setItem('sessionCount', sessionCount);
            
            updateDisplay();
            
            // Show completion notification
            showNotification('üéâ Session completed! Great work!');
            
            // Auto-start break if it was a work session
            const sessionType = document.getElementById('sessionType').textContent;
            if (sessionType === 'Work Session') {
                setTimeout(() => {
                    if (sessionCount % 4 === 0) {
                        setTimer(900); // Long break every 4 sessions
                    } else {
                        setTimer(300); // Short break
                    }
                }, 2000);
            }
        }
        
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = \`
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #2ecc71, #27ae60);
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                font-weight: 500;
                box-shadow: 0 10px 25px rgba(0,0,0,0.2);
                z-index: 1000;
                transform: translateX(100%);
                transition: transform 0.3s ease;
            \`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => notification.style.transform = 'translateX(0)', 100);
            
            // Animate out
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => document.body.removeChild(notification), 300);
            }, 3000);
            
            // Play sound (if browser supports it)
            try {
                const audio = new AudioContext();
                const oscillator = audio.createOscillator();
                const gain = audio.createGain();
                oscillator.connect(gain);
                gain.connect(audio.destination);
                oscillator.frequency.setValueAtTime(800, audio.currentTime);
                oscillator.frequency.setValueAtTime(600, audio.currentTime + 0.1);
                gain.gain.setValueAtTime(0.1, audio.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audio.currentTime + 0.3);
                oscillator.start(audio.currentTime);
                oscillator.stop(audio.currentTime + 0.3);
            } catch (e) {
                // Audio not supported
            }
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.code === 'Space') {
                e.preventDefault();
                if (isRunning) {
                    pauseTimer();
                } else {
                    startTimer();
                }
            } else if (e.code === 'Escape') {
                resetTimer();
            }
        });
        
        // Initialize display
        updateDisplay();
        document.getElementById('pauseBtn').style.display = 'none';
        
        // Show keyboard shortcuts hint
        setTimeout(() => {
            showNotification('üí° Tip: Press Space to start/pause, Esc to reset');
        }, 2000);
    </script>
</body>
</html>`;
        }
    </script>
</body>
</html>